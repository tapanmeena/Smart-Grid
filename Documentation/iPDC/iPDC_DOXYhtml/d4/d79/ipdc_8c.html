<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>iPDC-(PhasorDataConcentrator): ipdc.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ipdc.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;sys/ipc.h&gt;</code><br/>
<code>#include &lt;sys/shm.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;gtk/gtk.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../db/dfe/connections_8h_source.html">connections.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d36/parser_8h_source.html">parser.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d49/global_8h_source.html">global.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d3/d7c/ipdcGui_8h_source.html">ipdcGui.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for ipdc.c:</div>
<div class="dynsection">
<div class="center"><img src="../../d4/d3a/ipdc_8c__incl.gif" border="0" usemap="#ipdc_8c_map" alt=""/></div>
<map name="ipdc_8c_map" id="ipdc_8c">
<area shape="rect" href="../../db/dfe/connections_8h.html" title="connections.h" alt="" coords="212,83,313,112"/><area shape="rect" href="../../d5/d36/parser_8h.html" title="parser.h" alt="" coords="1295,83,1361,112"/><area shape="rect" href="../../d2/d49/global_8h.html" title="global.h" alt="" coords="71,83,137,112"/><area shape="rect" href="../../d3/d7c/ipdcGui_8h.html" title="ipdcGui.h" alt="" coords="1196,83,1271,112"/></map>
</div>

<p><a href="../../d4/d79/ipdc_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d79/ipdc_8c.html#ab83481a3996a882f7205e3997ffea6a2">UI_fILE</a>&nbsp;&nbsp;&nbsp;&quot;iPDC.glade&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(name)&nbsp;&nbsp;&nbsp;CH_GET_WIDGET(builder, name, <a class="el" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d79/ipdc_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a2f80de36aae2d55062a09f8b774764d9"></a><!-- doxytag: member="ipdc.c::GW" ref="a2f80de36aae2d55062a09f8b774764d9" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GW</td>
          <td>(</td>
          <td class="paramtype">name&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;CH_GET_WIDGET(builder, name, <a class="el" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="../../d4/d79/ipdc_8c_source.html#l00053">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ab83481a3996a882f7205e3997ffea6a2"></a><!-- doxytag: member="ipdc.c::UI_fILE" ref="ab83481a3996a882f7205e3997ffea6a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UI_fILE&nbsp;&nbsp;&nbsp;&quot;iPDC.glade&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d79/ipdc_8c_source.html#l00047">47</a> of file <a class="el" href="../../d4/d79/ipdc_8c_source.html">ipdc.c</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d79/ipdc_8c_source.html#l00053">main()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="ipdc.c::main" ref="a3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d79/ipdc_8c_source.html#l00053">53</a> of file <a class="el" href="../../d4/d79/ipdc_8c_source.html">ipdc.c</a>.</p>

<p>References <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00284">about_ipdc()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00066">_ChData::about_menuitem</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l01388">add_new_pdc()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00056">_ChData::add_pdc_button</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00971">add_pmu()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00051">_ChData::add_pmu_button</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00055">_ChData::cmd_cfg_button</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00053">_ChData::cmd_data_off_button</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00054">_ChData::cmd_data_on_button</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l01082">cmd_or_remove_pmu()</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l01652">connection_table()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00080">data</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00112">destroy()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00058">_ChData::display_conn_table_button</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00168">display_pdc_detail()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00059">_ChData::enter_pdc_detail_menuitem</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00060">_ChData::exit_button</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00065">_ChData::exit_menuitem</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00812">fill_pdc_details()</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00047">fp_log</a>, <a class="el" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00050">_ChData::ipdc</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00369">ipdc_colors()</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00045">p_thread</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l00416">pdc_details()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00064">_ChData::pdc_details_menuitem</a>, <a class="el" href="../../dd/dc8/ipdcGui_8c_source.html#l01480">remove_pdc()</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00057">_ChData::remove_pdc_button</a>, <a class="el" href="../../d3/d7c/ipdcGui_8h_source.html#l00052">_ChData::remove_pmu_button</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00045">TCP_thread</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00048">tname</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00045">UDP_thread</a>, <a class="el" href="../../d4/d79/ipdc_8c_source.html#l00047">UI_fILE</a>, <a class="el" href="../../d2/d49/global_8h_source.html#l00044">UL_TCP_sockfd</a>, and <a class="el" href="../../d2/d49/global_8h_source.html#l00044">UL_UDP_sockfd</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 {
<a name="l00055"></a>00055         DIR             *dip;
<a name="l00056"></a>00056         <span class="keyword">struct </span>dirent   *dit;
<a name="l00057"></a>00057         memset(<a class="code" href="../../d2/d49/global_8h.html#ad12088c21bf5c172fbbd23cc9d7f2775">tname</a>,<span class="charliteral">&#39;\0&#39;</span>,20);
<a name="l00058"></a>00058         strcpy(<a class="code" href="../../d2/d49/global_8h.html#ad12088c21bf5c172fbbd23cc9d7f2775">tname</a>,<span class="stringliteral">&quot;/dev/pts/&quot;</span>);
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         GtkBuilder *builder;
<a name="l00061"></a>00061         GError     *error = NULL;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         system(<span class="stringliteral">&quot;gnome-terminal&quot;</span>);
<a name="l00064"></a>00064         sleep(1);
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <span class="comment">/* DIR *opendir(const char *name);</span>
<a name="l00067"></a>00067 <span class="comment">         *</span>
<a name="l00068"></a>00068 <span class="comment">         * Open a directory stream to argv[1] and make sure</span>
<a name="l00069"></a>00069 <span class="comment">         * it&#39;s a readable and valid (directory) */</span>
<a name="l00070"></a>00070         <span class="keywordflow">if</span> ((dip = opendir(<a class="code" href="../../d2/d49/global_8h.html#ad12088c21bf5c172fbbd23cc9d7f2775">tname</a>)) == NULL)
<a name="l00071"></a>00071         {
<a name="l00072"></a>00072                 perror(<span class="stringliteral">&quot;opendir&quot;</span>);
<a name="l00073"></a>00073                 <span class="keywordflow">return</span> 0;
<a name="l00074"></a>00074         }
<a name="l00075"></a>00075  
<a name="l00076"></a>00076         printf(<span class="stringliteral">&quot;Directory stream is now open\n&quot;</span>);
<a name="l00077"></a>00077  
<a name="l00078"></a>00078         <span class="comment">/*  struct dirent *readdir(DIR *dir);</span>
<a name="l00079"></a>00079 <span class="comment">         *</span>
<a name="l00080"></a>00080 <span class="comment">         * Read in the files from argv[1] and print */</span>
<a name="l00081"></a>00081         <span class="keywordflow">while</span> ((dit = readdir(dip)) != NULL)
<a name="l00082"></a>00082         {
<a name="l00083"></a>00083                 <span class="keywordflow">if</span>(!strchr(dit-&gt;d_name,<span class="charliteral">&#39;.&#39;</span>)) {
<a name="l00084"></a>00084                         printf(<span class="stringliteral">&quot;\n%s&quot;</span>, dit-&gt;d_name);
<a name="l00085"></a>00085                         <span class="keywordflow">break</span>;
<a name="l00086"></a>00086                                 
<a name="l00087"></a>00087                 }
<a name="l00088"></a>00088         }
<a name="l00089"></a>00089  
<a name="l00090"></a>00090         strcat(<a class="code" href="../../d2/d49/global_8h.html#ad12088c21bf5c172fbbd23cc9d7f2775">tname</a>,dit-&gt;d_name);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="comment">/* int closedir(DIR *dir);</span>
<a name="l00093"></a>00093 <span class="comment">         *</span>
<a name="l00094"></a>00094 <span class="comment">         * Close the stream to argv[1]. And check for errors. */</span>
<a name="l00095"></a>00095         <span class="keywordflow">if</span> (closedir(dip) == -1)
<a name="l00096"></a>00096         {
<a name="l00097"></a>00097                 perror(<span class="stringliteral">&quot;closedir&quot;</span>);
<a name="l00098"></a>00098                 <span class="keywordflow">return</span> 0;
<a name="l00099"></a>00099         }
<a name="l00100"></a>00100  
<a name="l00101"></a>00101         printf(<span class="stringliteral">&quot;\nDirectory stream is now closed\n&quot;</span>);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <a class="code" href="../../d2/d49/global_8h.html#ad6ecf098aee66e4b8276007d98af6494">fp_log</a> = fopen(<a class="code" href="../../d2/d49/global_8h.html#ad12088c21bf5c172fbbd23cc9d7f2775">tname</a>,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         <span class="keywordflow">if</span>(<a class="code" href="../../d2/d49/global_8h.html#ad6ecf098aee66e4b8276007d98af6494">fp_log</a> == NULL)
<a name="l00106"></a>00106                 printf(<span class="stringliteral">&quot;\n fp null\n&quot;</span>);
<a name="l00107"></a>00107         <span class="keywordflow">else</span>
<a name="l00108"></a>00108                 fprintf(<a class="code" href="../../d2/d49/global_8h.html#ad6ecf098aee66e4b8276007d98af6494">fp_log</a>,<span class="stringliteral">&quot;fp not null\n&quot;</span>);
<a name="l00109"></a>00109         
<a name="l00110"></a>00110         system(<span class="stringliteral">&quot;clear&quot;</span>);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         <span class="comment">/* Init GTK+ */</span>
<a name="l00113"></a>00113         gtk_init(&amp;argc, &amp;argv);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         <span class="comment">/* Create new GtkBuilder object */</span>
<a name="l00116"></a>00116         builder = gtk_builder_new();
<a name="l00117"></a>00117 
<a name="l00118"></a>00118         <span class="keywordflow">if</span>(!gtk_builder_add_from_file(builder, <a class="code" href="../../d4/d79/ipdc_8c.html#ab83481a3996a882f7205e3997ffea6a2">UI_fILE</a>, &amp;error))
<a name="l00119"></a>00119         {
<a name="l00120"></a>00120                 g_warning(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;message);
<a name="l00121"></a>00121                 g_free(error);
<a name="l00122"></a>00122                 <span class="keywordflow">return</span>(1);
<a name="l00123"></a>00123         }
<a name="l00124"></a>00124         
<a name="l00125"></a>00125         <span class="comment">/* Allocate data structure */</span>
<a name="l00126"></a>00126         <a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a> = g_slice_new(<a class="code" href="../../d4/dda/struct__ChData.html">ChData</a>);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="comment">/* Get objects from UI */</span>
<a name="l00129"></a>00129 <span class="preprocessor">        #define GW(name) CH_GET_WIDGET(builder, name, data)</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>        <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(ipdc);
<a name="l00131"></a>00131         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(add_pmu_button);
<a name="l00132"></a>00132         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(remove_pmu_button);
<a name="l00133"></a>00133         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(cmd_data_off_button);
<a name="l00134"></a>00134         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(cmd_data_on_button);
<a name="l00135"></a>00135         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(cmd_cfg_button);
<a name="l00136"></a>00136         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(add_pdc_button);
<a name="l00137"></a>00137         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(remove_pdc_button);
<a name="l00138"></a>00138         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(display_conn_table_button);
<a name="l00139"></a>00139         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(enter_pdc_detail_menuitem);
<a name="l00140"></a>00140         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(exit_button);
<a name="l00141"></a>00141         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(time_label);
<a name="l00142"></a>00142         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(time_label1);
<a name="l00143"></a>00143         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(menubar);
<a name="l00144"></a>00144         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(pdc_details_menuitem);
<a name="l00145"></a>00145         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(exit_menuitem);
<a name="l00146"></a>00146         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(about_menuitem);
<a name="l00147"></a>00147         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(welcome_ipdc);
<a name="l00148"></a>00148         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(img_label);
<a name="l00149"></a>00149         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(footer_label);
<a name="l00150"></a>00150         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(admin_label);
<a name="l00151"></a>00151         <a class="code" href="../../d4/d79/ipdc_8c.html#a2f80de36aae2d55062a09f8b774764d9">GW</a>(wecome_button);
<a name="l00152"></a>00152 <span class="preprocessor">        #undef GW </span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>        
<a name="l00154"></a>00154         <span class="comment">/* Connect signals */</span>
<a name="l00155"></a>00155         gtk_builder_connect_signals(builder, <a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         <span class="comment">/* Connect signals */</span>
<a name="l00158"></a>00158         gtk_builder_connect_signals(builder, NULL);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <span class="comment">/* fill the iPDC details */</span>
<a name="l00161"></a>00161         <a class="code" href="../../dd/dc8/ipdcGui_8c.html#a2016dc600b9756da528308763b38b686">fill_pdc_details</a> ();
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="comment">/* Decorate the main window of iPDC */</span>
<a name="l00164"></a>00164         <a class="code" href="../../dd/dc8/ipdcGui_8c.html#a26899549f128a223b3a15545c2d33fa9">ipdc_colors</a>();
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="comment">/* Signals Definitions*/</span>
<a name="l00167"></a>00167         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a2fa902505b3baa34d2fe1666590b61e8">ipdc</a>, <span class="stringliteral">&quot;destroy&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a78891586da26adbf9dcc7b0959b6a98e">destroy</a>), NULL);
<a name="l00168"></a>00168         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a9483db629606f8472fbdbb763d5e1e3c">add_pmu_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a1fc8437bc2e9e141c5a64bcfaa652521">add_pmu</a>), NULL);
<a name="l00169"></a>00169         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a45d25df73fd76807b0493f8e0e6fd088">remove_pmu_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5b7e508dc36a8deddd998b0d0922e380">cmd_or_remove_pmu</a>), (gpointer) <span class="stringliteral">&quot;1&quot;</span>);
<a name="l00170"></a>00170         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a38820cc57f5e4a3583cb9a2985d1c58d">cmd_data_off_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5b7e508dc36a8deddd998b0d0922e380">cmd_or_remove_pmu</a>), (gpointer) <span class="stringliteral">&quot;2&quot;</span>);
<a name="l00171"></a>00171         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a99690ca6506c6a1fac78a041a849f8aa">cmd_data_on_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5b7e508dc36a8deddd998b0d0922e380">cmd_or_remove_pmu</a>), (gpointer) <span class="stringliteral">&quot;3&quot;</span>);
<a name="l00172"></a>00172         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a1a5bb645aafad78d24be6bd8551418d7">cmd_cfg_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5b7e508dc36a8deddd998b0d0922e380">cmd_or_remove_pmu</a>), (gpointer) <span class="stringliteral">&quot;4&quot;</span>);
<a name="l00173"></a>00173         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a8b1423be3f9c438e33ab20f9130b8735">add_pdc_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5df3af32ac54db6ee58e30c1a4562447">add_new_pdc</a>), NULL);
<a name="l00174"></a>00174         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a7b587aff79cfeffaffd44cce1c92c18a">remove_pdc_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a04fa602f2636e9f4f1bfc6959cbee7b7">remove_pdc</a>), NULL);
<a name="l00175"></a>00175         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a614d414beee1a6214c57ceb8d3267847">display_conn_table_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a5fb1f37fe62670625af333da912f75e0">connection_table</a>), NULL);
<a name="l00176"></a>00176         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a53fbcc74b91164c1937a23f1d0dd9074">exit_button</a>, <span class="stringliteral">&quot;clicked&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a78891586da26adbf9dcc7b0959b6a98e">destroy</a>), NULL);
<a name="l00177"></a>00177         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a2dfad132351c1b54761bf3fc78829055">pdc_details_menuitem</a>, <span class="stringliteral">&quot;button_press_event&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#ab3041e4b5ac880c64f743d7e32e80e8c">display_pdc_detail</a>), NULL);
<a name="l00178"></a>00178         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#ac1296494632973557b6fb212feeb227c">enter_pdc_detail_menuitem</a>, <span class="stringliteral">&quot;button_press_event&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a15c02481bec14669241dadc63c8b5f13">pdc_details</a>), NULL);
<a name="l00179"></a>00179         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a443110a5ab071ca9dc0f351e235a4080">exit_menuitem</a>, <span class="stringliteral">&quot;button_press_event&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a78891586da26adbf9dcc7b0959b6a98e">destroy</a>), NULL);
<a name="l00180"></a>00180         g_signal_connect (<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#ab005d5575f8027de95ed1d467dc6388c">about_menuitem</a>, <span class="stringliteral">&quot;button_press_event&quot;</span>, G_CALLBACK(<a class="code" href="../../dd/dc8/ipdcGui_8c.html#a0a9a1a8d6762da984f5f5da1d4846d59">about_ipdc</a>), NULL);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <span class="comment">/* Destroy builder, since we don&#39;t need it anymore */</span>
<a name="l00183"></a>00183         g_object_unref(G_OBJECT(builder));
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="comment">/* Show window. All other widgets are automatically shown by GtkBuilder */</span>
<a name="l00186"></a>00186         gtk_widget_show(<a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>-&gt;<a class="code" href="../../d4/dda/struct__ChData.html#a2fa902505b3baa34d2fe1666590b61e8">ipdc</a>);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188         <span class="comment">/* GTK Main */</span>
<a name="l00189"></a>00189         gtk_main();
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         pthread_join(<a class="code" href="../../d2/d49/global_8h.html#ad797330745ae38c496a29cef29c23f32">UDP_thread</a>, NULL);
<a name="l00192"></a>00192         pthread_join(<a class="code" href="../../d2/d49/global_8h.html#a0c93207a6830320810bc4e9c7cd51b7b">TCP_thread</a>, NULL);
<a name="l00193"></a>00193         pthread_join(<a class="code" href="../../d2/d49/global_8h.html#a7a4b61729b085faec0781c8e50884f82">p_thread</a>, NULL);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195         close(<a class="code" href="../../d2/d49/global_8h.html#af963e9f98b2c0b77dd1cc87bf9518b9a">UL_UDP_sockfd</a>);
<a name="l00196"></a>00196         close(<a class="code" href="../../d2/d49/global_8h.html#a602b258f7e5907d9560d8ab85637a9f6">UL_TCP_sockfd</a>);
<a name="l00197"></a>00197 
<a name="l00198"></a>00198         <span class="comment">/* Free any allocated data */</span>
<a name="l00199"></a>00199         g_slice_free(<a class="code" href="../../d4/dda/struct__ChData.html">ChData</a>, <a class="code" href="../../d3/d7c/ipdcGui_8h.html#a2ba2fd2c0934c206862b5ed833a128a2">data</a>);
<a name="l00200"></a>00200 
<a name="l00201"></a>00201         <span class="keywordflow">return</span>(0);
<a name="l00202"></a>00202 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d4/d79/ipdc_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph.gif" border="0" usemap="#d4/d79/ipdc_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph_map" alt=""></div>
<map name="d4/d79/ipdc_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph_map" id="d4/d79/ipdc_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a0a9a1a8d6762da984f5f5da1d4846d59" title="about_ipdc" alt="" coords="127,327,209,356"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a5df3af32ac54db6ee58e30c1a4562447" title="add_new_pdc" alt="" coords="304,532,403,561"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a1fc8437bc2e9e141c5a64bcfaa652521" title="add_pmu" alt="" coords="316,425,391,455"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a5b7e508dc36a8deddd998b0d0922e380" title="cmd_or_remove_pmu" alt="" coords="280,372,427,401"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a5fb1f37fe62670625af333da912f75e0" title="connection_table" alt="" coords="108,687,228,716"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a78891586da26adbf9dcc7b0959b6a98e" title="destroy" alt="" coords="136,740,200,769"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#ab3041e4b5ac880c64f743d7e32e80e8c" title="display_pdc_detail" alt="" coords="104,793,232,823"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a2016dc600b9756da528308763b38b686" title="fill_pdc_details" alt="" coords="300,636,407,665"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a26899549f128a223b3a15545c2d33fa9" title="ipdc_colors" alt="" coords="124,847,212,876"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a15c02481bec14669241dadc63c8b5f13" title="pdc_details" alt="" coords="124,633,212,663"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a04fa602f2636e9f4f1bfc6959cbee7b7" title="remove_pdc" alt="" coords="308,479,399,508"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#acb0bca66dfa8fe36d757582ac800944a" title="ipdc_help" alt="" coords="541,425,616,455"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#aacc99f735a8975830d141e9f67d5e60b" title="new_pdc_validation" alt="" coords="512,532,645,561"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#ac921fc3deed7bffb4eee40836d34bc4b" title="add_PDC" alt="" coords="783,583,857,612"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a6ea982f772ec66b940173fdd3683fa7e" title="checkip" alt="" coords="787,529,853,559"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#af43954703f1a1b1f2b56b4a1a7dd4507" title="validation_result" alt="" coords="1196,647,1311,676"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a6dbcc592afc90be9df57d9af9d40441b" title="add_pmu_validation" alt="" coords="511,372,647,401"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a0a6f6c312dd2b1ab6b6cf5afb028b179" title="add_PMU" alt="" coords="1007,269,1084,299"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a38c20b12f67cb09d8ec8059224c568e6" title="isNumber" alt="" coords="783,372,857,401"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a33f7a5af18af2dc82c45db43c32e4cf8" title="connect_pmu_tcp" alt="" coords="1192,244,1315,273"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a44b24aab2f79b54333bf88d96fcaa85e" title="connect_pmu_udp" alt="" coords="1189,424,1317,453"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a52ec3c7b6ea48bac06826eeb1a43b10a" title="add_PMU_Node" alt="" coords="1397,372,1512,401"/><area shape="rect" href="../../d2/d72/parser_8c.html#adc5cecb6bf8a8388ee03d9b77bbb3ea7" title="compute_CRC" alt="" coords="1587,411,1691,440"/><area shape="rect" href="../../d2/d72/parser_8c.html#af3a6687e5acbde26caa530c5b5d724cf" title="copy_cbyc" alt="" coords="1597,488,1680,517"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a3edd71b985c644a0ae7a910234b55374" title="create_command_frame" alt="" coords="1375,167,1535,196"/><area shape="rect" href="../../d2/d72/parser_8c.html#ab3ddd3da69dfca3848e78ad92127e9dc" title="to_intconvertor" alt="" coords="1585,580,1692,609"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#aaef77f3ff4520d95d279d9d6265e3dba" title="cmd_or_remove_pmu_validation" alt="" coords="475,165,683,195"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a76197828f3d2859b3022c5c305cdf4d4" title="configuration_request" alt="" coords="748,165,892,195"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a8922b170800943d7dd70450a7e222449" title="put_data_transmission_off" alt="" coords="959,5,1132,35"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a9302865a8e5acc85e5004cb4b9ec027c" title="put_data_transmission_on" alt="" coords="733,112,907,141"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a2f121472c57d8a966206137ba1665145" title="remove_Lower_Node" alt="" coords="749,59,891,88"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a06e3a08701fdfc05e962c6b7d558d893" title="config_request" alt="" coords="992,163,1099,192"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a5470e546e55e89630c859bdaaae13e80" title="data_off_llnode" alt="" coords="1199,32,1308,61"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a87720b1bb51887df2a1ec51ee65a65e6" title="data_on_llnode" alt="" coords="1200,112,1307,141"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#a3474511c723968fb47d10de68112d793" title="remove_llnode" alt="" coords="993,59,1097,88"/><area shape="rect" href="../../dd/d6d/recreate_8c.html#aca43739d36f065730700d021b8a85a12" title="recreate_cfg_objects" alt="" coords="1183,804,1324,833"/><area shape="rect" href="../../dd/d6d/recreate_8c.html#aca6183bae5893a67b3d013c9cc4bb811" title="recreate_Connection_Table" alt="" coords="731,636,909,665"/><area shape="rect" href="../../df/dd7/connections_8c.html#a4fc01d736fe50cf5b977f755b675f11d" title="setup" alt="" coords="793,841,847,871"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a4b52c10cba5f20de94535805ed383b24" title="validation_pdc_detail" alt="" coords="508,585,649,615"/><area shape="rect" href="../../dd/d6d/recreate_8c.html#ade5c5b7275caff875d0bb1d473cce60e" title="init_cfgparser" alt="" coords="1405,580,1504,609"/><area shape="rect" href="../../dd/d6d/recreate_8c.html#a221c0fd6e7182f14cf8381b1c020e2ba" title="recreate_tcp_connections" alt="" coords="960,216,1131,245"/><area shape="rect" href="../../dd/d6d/recreate_8c.html#a3c7eb228e6dbe1f5d5914e0aa2b32a6f" title="recreate_udp_connections" alt="" coords="959,424,1132,453"/><area shape="rect" href="../../df/dd7/connections_8c.html#a6c2d9589ac70568b8e3a6980bb3d45d6" title="sigchld_handler" alt="" coords="989,895,1101,924"/><area shape="rect" href="../../df/dd7/connections_8c.html#a90d79e9ae40ea51ee965874a3011bbcf" title="UL_tcp" alt="" coords="1015,948,1076,977"/><area shape="rect" href="../../df/dd7/connections_8c.html#a01286254008314734ae307e022f1c7da" title="UL_udp" alt="" coords="1013,841,1077,871"/><area shape="rect" href="../../df/dd7/connections_8c.html#aa59ca7a29656d58cffaecee207972d99" title="UL_tcp_connection" alt="" coords="1188,751,1319,780"/><area shape="rect" href="../../d1/d61/align__sort_8c.html#ad9bb234c46b3ce319406251812e4f4c0" title="create_cfgframe" alt="" coords="1397,527,1512,556"/><area shape="rect" href="../../dd/dc8/ipdcGui_8c.html#a50dba42ac37135e04e5b192373d082d2" title="remove_pdc_validation" alt="" coords="501,479,656,508"/><area shape="rect" href="../../de/d77/new__pmu__or__pdc_8c.html#aeb72d317f87d8e5f0335abcc81f79e26" title="remove_PDC" alt="" coords="771,476,869,505"/></map>
</div>
</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue May 24 19:05:08 2011 for iPDC-(PhasorDataConcentrator) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
